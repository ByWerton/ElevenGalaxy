<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <title>ElevenGalaxy ðŸŒŒ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            padding: 20px;
            transition: background-color 0.5s, color 0.5s;
        }
        .dark-mode {
            background-color: #121212;
            color: #f0f0f0;
        }
        .error {
            color: red;
            font-weight: bold;
            margin-top: 10px;
        }
        .success {
            color: green;
            font-weight: bold;
            margin-top: 10px;
        }
        #menuButton {
            display: none;
            font-size: 24px;
            cursor: pointer;
        }
        #sideMenu {
            display: none;
            border: 1px solid #ccc;
            padding: 10px;
            margin-top: 10px;
        }
        #sideMenu.visible {
            display: block;
        }
        textarea {
            width: 100%;
            height: 60px;
        }
        .profile-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
        }
    </style>
</head>
<body>

    <h1>ElevenGalaxyâ„¢ ðŸŒŒ</h1>

    <button id="darkModeToggle">KaranlÄ±k Mod</button>

    <div id="authSection">
        <h2>GiriÅŸ Yap</h2>
        <input type="email" id="loginEmail" placeholder="Email" />
        <input type="password" id="loginPassword" placeholder="Åžifre" />
        <button id="loginButton">GiriÅŸ Yap</button>

        <h2>KayÄ±t Ol</h2>
        <input type="email" id="registerEmail" placeholder="Email" />
        <input type="password" id="registerPassword" placeholder="Åžifre" />
        <button id="registerButton">KayÄ±t Ol</button>

        <div id="errorMessage" class="error"></div>
        <div id="successMessage" class="success"></div>
    </div>

    <div id="welcomeSection" style="display:none;">
        <h2 id="welcomeMessage"></h2>
        <div id="menuButton">â˜° MenÃ¼</div>
    </div>

    <div id="sideMenu">
        <h3>MesajlaÅŸma</h3>
        <textarea id="messageInput" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..."></textarea>
        <button id="sendMessageButton">GÃ¶nder</button>

        <h3>Leaderboard (En Ã‡ok Mesaj Yazanlar)</h3>
        <ul id="leaderboard">
            <li>HenÃ¼z veri yok.</li>
        </ul>

        <h3>Kaydolanlar</h3>
        <div id="registeredUsers">
            <div>
                <img src="https://via.placeholder.com/60" class="profile-img" alt="Profil" />
                KullanÄ±cÄ±: test@example.com
            </div>
        </div>

        <h3>Ayarlar</h3>
        <label>Profil FotoÄŸrafÄ± YÃ¼kle:
            <input type="file" id="profilePhotoInput" />
        </label>
    </div>

    <script type="module">
        // Firebase SDK import
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC05FCX8S8uU0a1airGrjPPKiMpO4bwT7U",
            authDomain: "elevengalaxy-web.firebaseapp.com",
            projectId: "elevengalaxy-web",
            storageBucket: "elevengalaxy-web.firebasestorage.app",
            messagingSenderId: "1044606246550",
            appId: "1:1044606246550:web:ba8d2759baa146f59f2cb7",
            measurementId: "G-V4M47VJ409"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        document.getElementById("loginButton").addEventListener("click", () => {
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;
            clearMessages();

            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    showSuccessMessage(`HoÅŸ geldin, ${userCredential.user.email}!`);
                })
                .catch((error) => {
                    handleLoginError(error.code);
                });
        });

        document.getElementById("registerButton").addEventListener("click", () => {
            const email = document.getElementById("registerEmail").value;
            const password = document.getElementById("registerPassword").value;
            clearMessages();

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    showSuccessMessage(`BaÅŸarÄ±yla kayÄ±t olundu, hoÅŸ geldin ${userCredential.user.email}!`);
                })
                .catch((error) => {
                    handleRegisterError(error.code);
                });
        });

        onAuthStateChanged(auth, (user) => {
            if (user) {
                document.getElementById("authSection").style.display = "none";
                document.getElementById("welcomeSection").style.display = "block";
                document.getElementById("welcomeMessage").innerText = `HoÅŸ geldin, ${user.email}!`;
                document.getElementById("menuButton").style.display = "block";
            } else {
                document.getElementById("authSection").style.display = "block";
                document.getElementById("welcomeSection").style.display = "none";
                document.getElementById("sideMenu").classList.remove("visible");
            }
        });

        document.getElementById("menuButton").addEventListener("click", () => {
            document.getElementById("sideMenu").classList.toggle("visible");
        });

        document.getElementById("sendMessageButton").addEventListener("click", () => {
            const message = document.getElementById("messageInput").value;
            if (message.trim() !== "") {
                alert(`Mesaj gÃ¶nderildi: ${message}`); // GerÃ§ek veri tabanÄ±na kaydetme daha sonra yapÄ±lacak
                document.getElementById("messageInput").value = "";
            }
        });

        document.getElementById("darkModeToggle").addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
        });

        function clearMessages() {
            document.getElementById("errorMessage").innerText = "";
            document.getElementById("successMessage").innerText = "";
        }

        function showSuccessMessage(msg) {
            document.getElementById("successMessage").innerText = msg;
        }

        function handleLoginError(errorCode) {
            let message = "";
            switch (errorCode) {
                case "auth/invalid-credential":
                case "auth/invalid-email":
                    message = "GeÃ§ersiz email veya ÅŸifre.";
                    break;
                case "auth/user-not-found":
                    message = "KullanÄ±cÄ± bulunamadÄ±.";
                    break;
                case "auth/wrong-password":
                    message = "YanlÄ±ÅŸ ÅŸifre.";
                    break;
                default:
                    message = "GiriÅŸ hatasÄ±: " + errorCode;
            }
            document.getElementById("errorMessage").innerText = message;
        }

        function handleRegisterError(errorCode) {
            let message = "";
            switch (errorCode) {
                case "auth/email-already-in-use":
                    message = "Bu email zaten kullanÄ±lÄ±yor.";
                    break;
                case "auth/invalid-email":
                    message = "GeÃ§ersiz email adresi.";
                    break;
                case "auth/weak-password":
                    message = "Åžifre Ã§ok zayÄ±f (en az 6 karakter).";
                    break;
                default:
                    message = "KayÄ±t hatasÄ±: " + errorCode;
            }
            document.getElementById("errorMessage").innerText = message;
        }
    </script>

</body>
</html>
